<<<<<<< HEAD
# åŸºäºŽå¼€æºå¤§æ¨¡åž‹çš„å›¾ç‰‡åˆ†æžèŠå¤©åº”ç”¨

ä¸€ä¸ªåŸºäºŽFastAPIå’ŒVUEçš„æ™ºèƒ½èŠå¤©åº”ç”¨ï¼Œæ”¯æŒå›¾ç‰‡ä¸Šä¼ åˆ†æžã€è¿žç»­å¤šè½®å¯¹è¯ã€æµå¼è¾“å‡ºç­‰åŠŸèƒ½ã€‚

## ðŸŒŸ ä¸»è¦ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½
- **å›¾ç‰‡åˆ†æž**: æ”¯æŒå›¾ç‰‡ä¸Šä¼ å’ŒQianwenå¤§æ¨¡åž‹åˆ†æžåŠŸèƒ½
- **å¤šè½®å¯¹è¯**: æ”¯æŒè¿žç»­çš„ä¸Šä¸‹æ–‡å¯¹è¯ï¼Œä¿æŒå¯¹è¯åŽ†å²
- **æµå¼è¾“å‡º**: å®žæ—¶æµå¼è¾“å‡ºï¼Œæä¾›æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ
- **ä¼šè¯ç®¡ç†**: å®Œæ•´çš„ä¼šè¯åˆ›å»ºã€æŸ¥çœ‹ã€åˆ é™¤åŠŸèƒ½

### AIæä¾›å•†æ”¯æŒ
- **DeepSeek**: DeepSeekç³»åˆ—æ¨¡åž‹
- **é€šä¹‰åƒé—®**: é˜¿é‡Œäº‘é€šä¹‰åƒé—®æ¨¡åž‹
- **å…¼å®¹OpenAI API**: æ”¯æŒå…¶ä»–å…¼å®¹OpenAI APIçš„æœåŠ¡

### æŠ€æœ¯ç‰¹æ€§
- **æ•°æ®æŒä¹…åŒ–**: æ”¯æŒRediså­˜å‚¨ï¼Œè‡ªåŠ¨é™çº§åˆ°å†…å­˜å­˜å‚¨
- **é…ç½®çµæ´»**: æ”¯æŒçŽ¯å¢ƒå˜é‡å’Œé…ç½®æ–‡ä»¶
- **æ—¥å¿—ç³»ç»Ÿ**: å®Œæ•´çš„æ—¥å¿—è®°å½•å’Œé”™è¯¯è¿½è¸ª
- **å“åº”å¼è®¾è®¡**: çŽ°ä»£åŒ–çš„Webç•Œé¢
- **APIæ–‡æ¡£**: è‡ªåŠ¨ç”Ÿæˆçš„FastAPIæ–‡æ¡£

## ðŸš€ å¿«é€Ÿå¼€å§‹

### çŽ¯å¢ƒè¦æ±‚
- Python 3.8+
- Redis (å¯é€‰ï¼Œä¸é…ç½®æ—¶ä½¿ç”¨å†…å­˜å­˜å‚¨)

### é…ç½®çŽ¯å¢ƒå˜é‡
å¤åˆ¶çŽ¯å¢ƒå˜é‡æ¨¡æ¿ï¼š
```bash
cp .env.example .env
```

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œé…ç½®ä½ çš„AIæä¾›å•†APIå¯†é’¥ï¼š
```env
# OpenAIé…ç½®
OPENAI_API_KEY=your_openai_api_key
OPENAI_BASE_URL=https://api.openai.com/v1

# DeepSeeké…ç½®
DEEPSEEK_API_KEY=your_deepseek_api_key

# é€šä¹‰åƒé—®é…ç½®
QIANWEN_API_KEY=your_qianwen_api_key

# Redisé…ç½®ï¼ˆå¯é€‰ï¼‰
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# åº”ç”¨é…ç½®
DEFAULT_AI_PROVIDER=openai
DEBUG=true
LOG_LEVEL=INFO
```

### å¯åŠ¨åº”ç”¨
```bash
# Step 0:å¼€å¯Redisfuwu
ç»ˆç«¯æ‰“å¼€æ–‡ä»¶å¤¹D:\ProgramData\Redis-x64-5.0.14.1
.\redis-server.exe .\redis.windows.conf

# Step 1ï¼šå¼€å¯åŽç«¯æœåŠ¡
python start_server.py

# Step 2ï¼šå¼€å¯å‰ç«¯æœåŠ¡
cd vite_chatbot
npm run dev

# Step 3ï¼šWebé¡µé¢è®¿é—®
è®¿é—® http://localhost:5173/
```


## ðŸ“ é¡¹ç›®ç»“æž„

```
task01_qianwen_project/
â”œâ”€â”€ frontend                      # å‰ç«¯æ–‡ä»¶
â”‚       â”œâ”€â”€ node_modules/        
â”‚       â””â”€â”€ vite_chatbot/         
â”‚                â”œâ”€â”€ node_modules
â”‚                â”œâ”€â”€ public       # é™æ€èµ„æº
â”‚                â””â”€â”€ src      
â”‚                     â”œâ”€â”€ components  # ç»„ä»¶
â”‚                     â”‚        â”œâ”€â”€ AiThinkingIndicator.vue  # Aiæ€è€ƒåŠ¨ç”»ç»„ä»¶
â”‚                     â”‚        â””â”€â”€ MarkdownRenderer.vue     # Markdownæ¸²æŸ“æ˜¾ç¤ºç»„ä»¶
â”‚                     â”œâ”€â”€ App.vue     # vueæ–‡ä»¶
â”‚                     â”œâ”€â”€ style.css   # æ ·å¼
â”‚                     â””â”€â”€ main.js     # å…¥å£ JSï¼ˆåˆå§‹åŒ– Vue/React å®žä¾‹ã€åŠ è½½å…¨å±€èµ„æºï¼‰
â”œâ”€â”€ backend                        # åŽç«¯æ–‡ä»¶
â”‚       â”œâ”€â”€ main.py                # ä¸»åº”ç”¨æ–‡ä»¶
â”‚       â”œâ”€â”€ config.py              # é…ç½®ç®¡ç†
â”‚       â”œâ”€â”€ start_server.py        # å¯åŠ¨è„šæœ¬
â”‚       â”œâ”€â”€ requirements.txt       # ä¾èµ–åŒ…åˆ—è¡¨
â”‚       â”œâ”€â”€ .env                   # çŽ¯å¢ƒå˜é‡æ¨¡æ¿
â”‚       â”œâ”€â”€ ai_providers/          # AIæä¾›å•†æ¨¡å—
â”‚       â””â”€â”€ Dockerfile             # å®¹å™¨åŒ–éƒ¨ç½²é…ç½®ï¼ˆç®¡ç†å‰ç«¯ã€åŽç«¯ã€æ•°æ®åº“ç­‰æœåŠ¡ï¼‰ 
â”œâ”€â”€ docs/              # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ README.md          # é¡¹ç›®æ€»è¯´æ˜Žï¼ˆæŠ€æœ¯æ ˆã€å¯åŠ¨æ–¹å¼ã€ç›®å½•è¯´æ˜Žï¼‰
â””â”€â”€ logs/              # æ—¥å¿—æ–‡ä»¶ç›®å½•
```

## ðŸ”§ APIæŽ¥å£

### èŠå¤©ç›¸å…³
- `POST /chat/start` - å¼€å§‹æ–°çš„èŠå¤©ä¼šè¯
- `POST /chat/stream` - æµå¼èŠå¤©æŽ¥å£
- `GET /chat/history` - èŽ·å–èŠå¤©åŽ†å²
- `GET /chat/sessions` - èŽ·å–ç”¨æˆ·ä¼šè¯åˆ—è¡¨
- `DELETE /chat/session/{session_id}` - åˆ é™¤èŠå¤©ä¼šè¯
- `DELETE /chat/history/{session_id}` - æ¸…é™¤å¯¹è¯åŽ†å²

### é…ç½®ç›¸å…³
- `GET /providers` - èŽ·å–å¯ç”¨çš„AIæä¾›å•†åˆ—è¡¨

### æ–‡ä»¶ä¸Šä¼ 
- `POST /upload/image` - å›¾ç‰‡ä¸Šä¼ æŽ¥å£

### å…¶ä»–
- `GET /` - é‡å®šå‘åˆ°èŠå¤©ç•Œé¢
- `GET /api` - APIä¿¡æ¯

## ðŸŽ¯ ä½¿ç”¨è¯´æ˜Ž

### åŸºæœ¬èŠå¤©
1. è®¿é—®åº”ç”¨é¦–é¡µ
2. ç‚¹å‡»"å¼€å§‹æ–°å¯¹è¯"åˆ›å»ºä¼šè¯
3. è¾“å…¥æ¶ˆæ¯å¼€å§‹èŠå¤©
4. æ”¯æŒå®žæ—¶æµå¼å“åº”

### åˆ‡æ¢AIæä¾›å•†
- åœ¨èŠå¤©ç•Œé¢å¯ä»¥é€‰æ‹©ä¸åŒçš„AIæä¾›å•†
- æ”¯æŒåœ¨å¯¹è¯ä¸­åŠ¨æ€åˆ‡æ¢æ¨¡åž‹
- æ¯ä¸ªæä¾›å•†æ”¯æŒå¤šä¸ªæ¨¡åž‹é€‰æ‹©

### å›¾ç‰‡ç†è§£
1. é€‰æ‹©Qianwenå¤§æ¨¡åž‹
1. ç‚¹å‡»å›¾ç‰‡ä¸Šä¼ æŒ‰é’®
2. é€‰æ‹©å›¾ç‰‡æ–‡ä»¶ï¼ˆæ”¯æŒjpgã€pngç­‰æ ¼å¼ï¼‰
3. å‘é€æ¶ˆæ¯ï¼ŒQianwenå¤§æ¨¡åž‹å°†åˆ†æžå›¾ç‰‡å†…å®¹

### ä¼šè¯ç®¡ç†
- æŸ¥çœ‹åŽ†å²ä¼šè¯åˆ—è¡¨
- åˆ é™¤ä¸éœ€è¦çš„ä¼šè¯
- æ¸…é™¤ä¼šè¯å¯¹è¯åŽ†å²

## âš™ï¸ é…ç½®è¯´æ˜Ž

### AIæä¾›å•†é…ç½®
æ¯ä¸ªAIæä¾›å•†éƒ½éœ€è¦ç›¸åº”çš„APIå¯†é’¥ï¼Œåœ¨ `.env` æ–‡ä»¶ä¸­é…ç½®ï¼š

### Redisé…ç½®
Redisç”¨äºŽæŒä¹…åŒ–å­˜å‚¨å¯¹è¯åŽ†å²ï¼Œå¦‚æžœä¸é…ç½®Redisï¼Œåº”ç”¨ä¼šè‡ªåŠ¨ä½¿ç”¨å†…å­˜å­˜å‚¨ï¼š

```env
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_password
REDIS_DB=0
```

### åº”ç”¨é…ç½®
```env
# è°ƒè¯•æ¨¡å¼
DEBUG=true

# æ—¥å¿—çº§åˆ«
LOG_LEVEL=INFO

# ä¼šè¯è¿‡æœŸæ—¶é—´ï¼ˆç§’ï¼‰
CONVERSATION_EXPIRE_TIME=86400
SESSION_EXPIRE_TIME=604800

# æœ€å¤§åŽ†å²æ¶ˆæ¯æ•°
MAX_HISTORY_MESSAGES=20
```

## ðŸ” æ—¥å¿—å’Œç›‘æŽ§

åº”ç”¨æä¾›å®Œæ•´çš„æ—¥å¿—è®°å½•åŠŸèƒ½ï¼š
- æŽ§åˆ¶å°è¾“å‡ºï¼šå®žæ—¶æŸ¥çœ‹åº”ç”¨çŠ¶æ€
- æ–‡ä»¶æ—¥å¿—ï¼šä¿å­˜åœ¨ `logs/` ç›®å½•ä¸‹
- æ—¥å¿—çº§åˆ«ï¼šæ”¯æŒDEBUGã€INFOã€WARNINGã€ERROR

æ—¥å¿—å†…å®¹åŒ…æ‹¬ï¼š
- APIè¯·æ±‚å’Œå“åº”
- AIæä¾›å•†è°ƒç”¨æƒ…å†µ
- é”™è¯¯å’Œå¼‚å¸¸ä¿¡æ¯
- ä¼šè¯ç®¡ç†æ“ä½œ

## ðŸ”— ç›¸å…³é“¾æŽ¥

- [FastAPIå®˜æ–¹æ–‡æ¡£](https://fastapi.tiangolo.com/)
- [OpenAI APIæ–‡æ¡£](https://platform.openai.com/docs)
- [Rediså®˜æ–¹æ–‡æ¡£](https://redis.io/documentation)

---
=======
# task01_qianwen
fastapi,python,qianwen
>>>>>>> 2e2332de2fb85802988066fc9e83a55cb7c4bb07
